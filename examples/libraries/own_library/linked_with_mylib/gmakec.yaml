description: Own library linkage gmakec sample
version: "1.0.0"

imports:
  - ../mylib

compilers:
  - name: gcc-default
    path: gcc
    flags:
      - -Wall
      - -Wextra
      - -pedantic

targets:
  - compiler:
      ref: gcc-default
    defines:
      - DEFINE_WITHOUT_VALUE
      - DEFINE_WITH_INT_VALUE=64
      - DEFINE_WITH_STRING_VALUE="hello"
      - DEFINE_WITH_STRING_NUMBER_VALUE="420"
    sources:
      - path: src/main.c
    includes:
      - libobject:includes
    links:
      - path: libso:output
        link: -lmyown
    output: build/linked-with-mylib
    dependencies:
      - libso
